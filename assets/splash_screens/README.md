# üé® –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ Splash Screens (Embedded)

**‚ö†Ô∏è –í–ê–ñ–ù–û:** Custom splash upload —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å **–û–¢–ö–õ–Æ–ß–ï–ù** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏!

–í—Å–µ splash screens —Ç–µ–ø–µ—Ä—å **–ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (embedded)** –≤ –ø—Ä–æ—à–∏–≤–∫–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö splash.

## üìã –¢–µ–∫—É—â–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ splash:

1. **disabled** - –ù–µ—Ç splash screen
2. **securegen** - –§–∏—Ä–º–µ–Ω–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø SecureGen  
3. **bladerunner** - –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π splash #1
4. **combs** - –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π splash #2

---

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ RAW —Ñ–∞–π–ª–∞–º:
*   **–§–æ—Ä–º–∞—Ç:** RAW (–±–µ–∑ —Å–∂–∞—Ç–∏—è)
*   **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ:** 240x135 –ø–∏–∫—Å–µ–ª–µ–π
*   **–¶–≤–µ—Ç:** 16-–±–∏—Ç RGB565 Big Endian
*   **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:** –†–æ–≤–Ω–æ 64800 –±–∞–π—Ç (240 √ó 135 √ó 2)

---

## üé® –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ RAW

### ‚úÖ **–†–ê–ë–û–ß–ê–Ø –ö–û–ú–ê–ù–î–ê (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ):**

```bash
ffmpeg -i input.png -vf "scale=240:135:force_original_aspect_ratio=decrease,pad=240:135:(ow-iw)/2:(oh-ih)/2,format=rgb565be" -f rawvideo output.raw
```

### üìù **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**

- `-i input.png` - –í—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª (–º–æ–∂–µ—Ç –±—ã—Ç—å .png, .jpg, .webp –∏ —Ç.–¥.)
- `-vf` - Video filters (—Ü–µ–ø–æ—á–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏)
  - `scale=240:135:force_original_aspect_ratio=decrease` - –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø—Ä–æ–ø–æ—Ä—Ü–∏–π (—É–º–µ–Ω—å—à–µ–Ω–∏–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
  - `pad=240:135:(ow-iw)/2:(oh-ih)/2` - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–Ω—ã—Ö –ø–æ–ª–æ—Å –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ 240x135 (—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ)
  - `format=rgb565be` - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ RGB565 Big Endian (—Ñ–æ—Ä–º–∞—Ç T-Display ST7789)
- `-f rawvideo` - –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞: —Å—ã—Ä—ã–µ –≤–∏–¥–µ–æ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- `output.raw` - –í—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª

### üîÑ **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ (—Å –æ–±—Ä–µ–∑–∫–æ–π –≤–º–µ—Å—Ç–æ padding):**

```bash
ffmpeg -i input.png -vf "crop=240:135:(in_w-240)/2:(in_h-135)/2,format=rgb565be" -f rawvideo output.raw
```

**–û—Ç–ª–∏—á–∏–µ:** –û–±—Ä–µ–∑–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É –≤–º–µ—Å—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–æ—Å.

---

## üìã **–ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ Splash:**

### **–®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ**
```bash
cd assets/splash_screens/
ffmpeg -i MyLogo.png -vf "scale=240:135:force_original_aspect_ratio=decrease,pad=240:135:(ow-iw)/2:(oh-ih)/2,format=rgb565be" -f rawvideo MyLogo.raw
```

### **–®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä**
```bash
ls -l MyLogo.raw
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–æ–≤–Ω–æ 64800 –±–∞–π—Ç
```

### **–®–∞–≥ 3: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å C –º–∞—Å—Å–∏–≤**
```bash
xxd -i MyLogo.raw > MyLogo_array.txt
```

### **–®–∞–≥ 4: –î–æ–±–∞–≤–∏—Ç—å –≤ embedded_splashes.h**

–û—Ç–∫—Ä—ã—Ç—å `include/embedded_splashes.h` –∏ –¥–æ–±–∞–≤–∏—Ç—å:

```cpp
// MyLogo Splash (240x135 RGB565)
const unsigned char PROGMEM splash_mylogo[] = {
  // –í—Å—Ç–∞–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ MyLogo_array.txt
};
const unsigned int splash_mylogo_len = 64800;
```

### **–®–∞–≥ 5: –û–±–Ω–æ–≤–∏—Ç—å splash_manager.cpp**

–í —Ñ—É–Ω–∫—Ü–∏–∏ `displayEmbeddedSplash()` –¥–æ–±–∞–≤–∏—Ç—å:

```cpp
} else if (mode == "mylogo") {
    splashData = splash_mylogo;
    splashLen = splash_mylogo_len;
    splashName = "MyLogo";
```

–í —Ñ—É–Ω–∫—Ü–∏–∏ `saveSplashConfig()` –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é:

```cpp
if (mode != "disabled" && mode != "bladerunner" && 
    mode != "combs" && mode != "securegen" && 
    mode != "mylogo") {
    return false;
}
```

### **–®–∞–≥ 6: –î–æ–±–∞–≤–∏—Ç—å –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**

–í `include/web_pages/page_index.h` –¥–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏—é:

```html
<option value="mylogo">MyLogo</option>
```

---

## üîç **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ RAW —Ñ–∞–π–ª–∞:**

```bash
# –†–∞–∑–º–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 64800 –±–∞–π—Ç
stat -c%s output.raw

# Hex dump –ø–µ—Ä–≤—ã—Ö 32 –±–∞–π—Ç (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 16-bit –∑–Ω–∞—á–µ–Ω–∏—è)
xxd -l 32 output.raw
```

**–ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞:**
```
00000000: 0000 0000 0000 0000 0821 0821 0841 0841  .........!.!.A.A
00000010: 0841 0841 1041 1041 1862 1862 1862 1862  .A.A.A.A.b.b.b.b
```

---

## ‚ö†Ô∏è **–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:**

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞**
```bash
ls -l output.raw
# 64802 bytes - –û–®–ò–ë–ö–ê! (–ª–∏—à–Ω–∏–µ 2 –±–∞–π—Ç–∞)
```
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `-f rawvideo` –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø—Ü–∏–π

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ü–≤–µ—Ç–∞**
```bash
ffmpeg -i input.png -vf "format=rgb24" ...  # –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!
```
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `format=rgb565be` (Big Endian)

‚ùå **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å–∫–∞–∂–µ–Ω–æ**
**–ü—Ä–∏—á–∏–Ω–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω `crop` –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `scale` + `pad` –≤–º–µ—Å—Ç–æ `crop`

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**‚ö†Ô∏è Custom splash upload –û–¢–ö–õ–Æ–ß–ï–ù –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**

1. ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç RCE** - –Ω–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π —Ñ–∞–π–ª
2. ‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞–∑–º–µ—Ä–∞** - –≤—Å–µ splash —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –≤ PROGMEM
3. ‚úÖ **–¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –ø—Ä–æ—à–∏–≤–∫–∏** - splash —á–∞—Å—Ç—å –∫–æ–¥–∞, –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è runtime
4. ‚úÖ **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å** - –Ω–µ—Ç —Ä–∏—Å–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ–≥—Ä–æ–º–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

**üéØ –ò—Ç–æ–≥:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ (embedded) splash screens. –í—Å–µ splash –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –≤ –ø—Ä–æ—à–∏–≤–∫—É!
